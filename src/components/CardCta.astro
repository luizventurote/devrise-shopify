---
// CardCta.astro
---
<div>

    <h2 class="block text-center px-2 mt-2 mb-10 text-3xl" id="plans">
        Faça a sua inscrição <br /><span class="text-4xl"
            >e se torne um</span
        >
        <br />desenvolvedor Shopify!
    </h2>

    <div
        class="p-5 border-4 text-center border-primary-500 drop-shadow-[0_0_80px_rgba(237,30,122,1)]"
    >
        <div class="mb-3 mt-4 text-center">
            <span class="font-bold text-lg">Bootcamp Shopify</span>
        </div>
        <div class="text-2xl text-center">10 x R$499 sem juros</div>

        <div class="bg-highlight text-black font-bold p-1 inline-block w-auto uppercase rounded-md px-2 mb-2 mt-5" style="font-size: 10px; line-height: 14px;">10 vagas disponíveis</div>

        <div
            class="mt-5 text-center font-bold mb-2 uppercase"
            style="font-size: 10px;"
        >
            Esse bootcamp inclui:
        </div>

        <ul class="text-center text-sm flex flex-wrap gap-3 flex-col">
            <li class="flex gap-2 justify-center">
                <img src="icon-check.svg" alt="Check"/>
                6 meses de aulas ao vivo
            </li>
            <li class="flex gap-2 justify-center">
                <img src="icon-check.svg" alt="Check"/>
                Aulas práticas com Shopify
            </li>
            <li class="flex gap-2 justify-center">
                <img src="icon-check.svg" alt="Check"/>
                Certificado de conclusão
            </li>
            <li class="flex gap-2 justify-center">
                <img src="icon-check.svg" alt="Check"/>
                Suporte exclusivo
            </li>
            <li class="flex gap-2 justify-center">
                <img src="icon-check.svg" alt="Check"/>
                Mentoria DevRise
            </li>
            <li class="flex gap-2 justify-center">
                <img src="icon-check.svg" alt="Check"/>
                Conteúdo extra
            </li>
            <li class="flex gap-2 justify-center">
                <img src="icon-check.svg" alt="Check"/>
                Foco no mercado global
            </li>
            
        </ul>

        <div class="mt-8 mb-7 text-center">

            <form id="user_register" class="px-7 flex flex-col gap-2">
                <label for="user_name" class="uppercase font-bold text-[10px] leading-[10px]">Seu nome</label>
                <input
                    id="user_name"
                    type="text"
                    required
                    name="name"
                    placeholder="Digite seu nome"
                    class="w-full rounded-md px-3 py-2 text-black"
                />

                <label for="user_phone" class="mt-3 uppercase font-bold text-[10px] leading-[10px]">Seu telefone</label>
                <input
                    id="user_phone"
                    type="tel"
                    required
                    name="phone"
                    placeholder="Digite seu telefone"
                    class="w-full rounded-md px-3 py-2 text-black"
                />

                <label for="user_email" class="mt-3 uppercase font-bold text-[10px] leading-[10px]">Seu e-mail</label>
                <input
                    id="user_email"
                    type="email"
                    required
                    name="email"
                    placeholder="Digite seu e-mail"
                    class="w-full rounded-md px-3 py-2 mb-5 text-black"
                />

                <input type="hidden" name="bootcamp" value="shopify" />

                <input type="submit" value="Fazer Inscrição" class="btn w-full transition duration-200 hover:scale-105" />

            </form>
            
        </div>

    </div>
    
</div>

<script>

    document.querySelector('#user_register').addEventListener('submit', async (e) => {
        e.preventDefault();

        const form = e.target;
        const data = new FormData(form);

        const response = await fetch('https://n8n.venturote.com/webhook/bootcamp-register', {
            method: 'POST',
            body: data
        });

        if (response.ok) {
            alert('Inscrição realizada com sucesso!');
            form.reset();
        } else {
            alert('Erro ao realizar inscrição. Tente novamente mais tarde.');
        }
    });

</script>